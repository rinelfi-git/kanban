<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Responsive kanban</title>
    <script src="http://code.jquery.com/jquery-2.1.1.min.js"></script>
    <script src='http://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js'></script>
    <script src="kanban.js"></script>
    <link rel="stylesheet" href="kanban.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"
        integrity="sha512-SfTiTlX6kk+qitfevl/7LibUOeJWlt9rbyDn92a1DqWOw9vWG2MFoays0sgObmWazO5BQPiFucnnEAjpAB+/Sw=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <style>
        body {
            height: 100vh;
        }

        .menamena {
            background-color: red !important;
        }
    </style>
    <script>
        $(function () {
            var data = [
                {
                    "id": "62825ad7bf2c671a79280102",
                    "html": true,
                    "editable": false,
                    "actions": [
                        {
                            "icon": "fa fa-archive",
                            "bstooltip": {
                                "text": "Archiver",
                                "position": "left"
                            },
                            "action": "onCardArchiveClick"
                        },
                        {
                            "icon": "fa fa-commenting",
                            "badge": "0",
                            "bstooltip": {
                                "text": "commentaires",
                                "position": "left"
                            },
                            "action": "onCardCommentClick"
                        },
                        {
                            "icon": "fa fa-picture-o",
                            "badge": "0",
                            "bstooltip": {
                                "text": "images",
                                "position": "left"
                            },
                            "action": "onCardPictureClick",
                            "hideCondition": {
                                "badge": "0"
                            }
                        },
                        {
                            "icon": "fa fa-file",
                            "badge": "0",
                            "action": "onCardFileClick",
                            "bstooltip": {
                                "text": "Fichiers",
                                "position": "left"
                            },
                            "hideCondition": {
                                "badge": "0"
                            },
                            "className": "non-clickable"
                        },
                        {
                            "badge": "0/0",
                            "bstooltip": {
                                "text": "Tâche",
                                "position": "left"
                            },
                            "className": "kanban-no-task-action"
                        }
                    ],
                    "contributors": [
                        {
                            "name": "MARA LARISSA",
                            "image": "http://communecter-dev/assets/72171deb/images/thumbnail-default.jpg",
                            "id": "6263e01b553cba4de320cbb3",
                            "data": {
                                "id": "6263e01b553cba4de320cbb3"
                            }
                        }
                    ],
                    "title": "<b>Subvention AAP Politique de la Ville 2022</b> <br/><small>Montant Global incluant Ville, Etat, Bailleurs </small>",
                    "tags": [],
                    "images": [],
                    "position": 0,
                    "header": "todo"
                },
                {
                    "id": "62825ad7bf2c671a79280105",
                    "html": false,
                    "editable": true,
                    "actions": [
                        {
                            "icon": "fa fa-archive",
                            "bstooltip": {
                                "text": "Archiver",
                                "position": "left"
                            },
                            "action": "onCardArchiveClick"
                        },
                        {
                            "icon": "fa fa-commenting",
                            "badge": "0",
                            "bstooltip": {
                                "text": "commentaires",
                                "position": "left"
                            },
                            "action": "onCardCommentClick"
                        },
                        {
                            "icon": "fa fa-picture-o",
                            "badge": "0",
                            "bstooltip": {
                                "text": "images",
                                "position": "left"
                            },
                            "action": "onCardPictureClick",
                            "hideCondition": {
                                "badge": "0"
                            }
                        },
                        {
                            "icon": "fa fa-file",
                            "badge": "0",
                            "action": "onCardFileClick",
                            "bstooltip": {
                                "text": "Fichiers",
                                "position": "left"
                            },
                            "hideCondition": {
                                "badge": "0"
                            },
                            "className": "non-clickable"
                        },
                        {
                            "badge": "0/0",
                            "bstooltip": {
                                "text": "Tâche",
                                "position": "left"
                            },
                            "className": "kanban-no-task-action"
                        }
                    ],
                    "contributors": [
                        {
                            "name": "MARA LARISSA",
                            "image": "http://communecter-dev/assets/72171deb/images/thumbnail-default.jpg",
                            "id": "6263e01b553cba4de320cbb3",
                            "data": {
                                "id": "6263e01b553cba4de320cbb3"
                            }
                        }
                    ],
                    "title": "CAF",
                    "tags": [],
                    "images": [],
                    "header": "todo"
                },
                {
                    "id": "62825ad8bf2c671a79280108",
                    "html": false,
                    "editable": true,
                    "actions": [
                        {
                            "icon": "fa fa-archive",
                            "bstooltip": {
                                "text": "Archiver",
                                "position": "left"
                            },
                            "action": "onCardArchiveClick"
                        },
                        {
                            "icon": "fa fa-commenting",
                            "badge": "0",
                            "bstooltip": {
                                "text": "commentaires",
                                "position": "left"
                            },
                            "action": "onCardCommentClick"
                        },
                        {
                            "icon": "fa fa-picture-o",
                            "badge": "0",
                            "bstooltip": {
                                "text": "images",
                                "position": "left"
                            },
                            "action": "onCardPictureClick",
                            "hideCondition": {
                                "badge": "0"
                            }
                        },
                        {
                            "icon": "fa fa-file",
                            "badge": "0",
                            "action": "onCardFileClick",
                            "bstooltip": {
                                "text": "Fichiers",
                                "position": "left"
                            },
                            "hideCondition": {
                                "badge": "0"
                            },
                            "className": "non-clickable"
                        },
                        {
                            "badge": "0/0",
                            "bstooltip": {
                                "text": "Tâche",
                                "position": "left"
                            },
                            "className": "kanban-no-task-action"
                        }
                    ],
                    "contributors": [
                        {
                            "name": "MARA LARISSA",
                            "image": "http://communecter-dev/assets/72171deb/images/thumbnail-default.jpg",
                            "id": "6263e01b553cba4de320cbb3",
                            "data": {
                                "id": "6263e01b553cba4de320cbb3"
                            }
                        }
                    ],
                    "title": "Région",
                    "tags": [],
                    "images": [],
                    "header": "todo"
                },
                {
                    "id": "62825ad8bf2c671a7928010b",
                    "html": false,
                    "editable": true,
                    "actions": [
                        {
                            "icon": "fa fa-archive",
                            "bstooltip": {
                                "text": "Archiver",
                                "position": "left"
                            },
                            "action": "onCardArchiveClick"
                        },
                        {
                            "icon": "fa fa-commenting",
                            "badge": "0",
                            "bstooltip": {
                                "text": "commentaires",
                                "position": "left"
                            },
                            "action": "onCardCommentClick"
                        },
                        {
                            "icon": "fa fa-picture-o",
                            "badge": "0",
                            "bstooltip": {
                                "text": "images",
                                "position": "left"
                            },
                            "action": "onCardPictureClick",
                            "hideCondition": {
                                "badge": "0"
                            }
                        },
                        {
                            "icon": "fa fa-file",
                            "badge": "0",
                            "action": "onCardFileClick",
                            "bstooltip": {
                                "text": "Fichiers",
                                "position": "left"
                            },
                            "hideCondition": {
                                "badge": "0"
                            },
                            "className": "non-clickable"
                        },
                        {
                            "badge": "0/0",
                            "bstooltip": {
                                "text": "Tâche",
                                "position": "left"
                            },
                            "className": "kanban-no-task-action"
                        }
                    ],
                    "contributors": [
                        {
                            "name": "MARA LARISSA",
                            "image": "http://communecter-dev/assets/72171deb/images/thumbnail-default.jpg",
                            "id": "6263e01b553cba4de320cbb3",
                            "data": {
                                "id": "6263e01b553cba4de320cbb3"
                            }
                        }
                    ],
                    "title": "Département, ARS",
                    "tags": [],
                    "images": [],
                    "header": "todo"
                },
                {
                    "id": "62825ad8bf2c671a7928010e",
                    "html": false,
                    "editable": true,
                    "actions": [
                        {
                            "icon": "fa fa-archive",
                            "bstooltip": {
                                "text": "Archiver",
                                "position": "left"
                            },
                            "action": "onCardArchiveClick"
                        },
                        {
                            "icon": "fa fa-commenting",
                            "badge": "0",
                            "bstooltip": {
                                "text": "commentaires",
                                "position": "left"
                            },
                            "action": "onCardCommentClick"
                        },
                        {
                            "icon": "fa fa-picture-o",
                            "badge": "0",
                            "bstooltip": {
                                "text": "images",
                                "position": "left"
                            },
                            "action": "onCardPictureClick",
                            "hideCondition": {
                                "badge": "0"
                            }
                        },
                        {
                            "icon": "fa fa-file",
                            "badge": "0",
                            "action": "onCardFileClick",
                            "bstooltip": {
                                "text": "Fichiers",
                                "position": "left"
                            },
                            "hideCondition": {
                                "badge": "0"
                            },
                            "className": "non-clickable"
                        },
                        {
                            "badge": "0/0",
                            "bstooltip": {
                                "text": "Tâche",
                                "position": "left"
                            },
                            "className": "kanban-no-task-action"
                        }
                    ],
                    "contributors": [
                        {
                            "name": "MARA LARISSA",
                            "image": "http://communecter-dev/assets/72171deb/images/thumbnail-default.jpg",
                            "id": "6263e01b553cba4de320cbb3",
                            "data": {
                                "id": "6263e01b553cba4de320cbb3"
                            }
                        }
                    ],
                    "title": "Autre ",
                    "tags": [],
                    "images": [],
                    "header": "todo"
                },
                {
                    "id": "62825ad7bf2c671a79280102",
                    "html": true,
                    "editable": false,
                    "actions": [
                        {
                            "icon": "fa fa-archive",
                            "bstooltip": {
                                "text": "Archiver",
                                "position": "left"
                            },
                            "action": "onCardArchiveClick"
                        },
                        {
                            "icon": "fa fa-commenting",
                            "badge": "0",
                            "bstooltip": {
                                "text": "commentaires",
                                "position": "left"
                            },
                            "action": "onCardCommentClick"
                        },
                        {
                            "icon": "fa fa-picture-o",
                            "badge": "0",
                            "bstooltip": {
                                "text": "images",
                                "position": "left"
                            },
                            "action": "onCardPictureClick",
                            "hideCondition": {
                                "badge": "0"
                            }
                        },
                        {
                            "icon": "fa fa-file",
                            "badge": "0",
                            "action": "onCardFileClick",
                            "bstooltip": {
                                "text": "Fichiers",
                                "position": "left"
                            },
                            "hideCondition": {
                                "badge": "0"
                            },
                            "className": "non-clickable"
                        },
                        {
                            "badge": "0/0",
                            "bstooltip": {
                                "text": "Tâche",
                                "position": "left"
                            },
                            "className": "kanban-no-task-action"
                        }
                    ],
                    "contributors": [
                        {
                            "name": "MARA LARISSA",
                            "image": "http://communecter-dev/assets/72171deb/images/thumbnail-default.jpg",
                            "id": "6263e01b553cba4de320cbb3",
                            "data": {
                                "id": "6263e01b553cba4de320cbb3"
                            }
                        }
                    ],
                    "title": "<b>Subvention AAP Politique de la Ville 2022</b> <br/><small>Montant Global incluant Ville, Etat, Bailleurs </small>",
                    "tags": [],
                    "images": [],
                    "position": 0,
                    "header": "tracking"
                }
            ];
            var headers = [
                { id: 'todiscuss', label: 'A discuter' },
                { id: 'todo', label: 'A faire' },
                { id: 'totest', label: 'Phase de teste' },
                { id: 'done', label: 'Terminé' },
                { id: 'validated', label: 'Validé' },
            ]
            var kanbanDom = $('#kanban').kanban({
                headers,
                data,
                prependOnly: false,
                editable: true,
                language: 'fr',
                showCardNumber: true,
                actionConditionEnabled: true,
                onCardClick(clickedData) {
                    console.log('Rinelfi clicked', clickedData);
                },
                onEditCardOpen(editData) {
                    console.log('Rinelfi edit prompt at', editData);
                },
                onCreateCardOpen(column) {
                    console.log('Rinelfi create prompt at', column);
                },
                onCardUpdate(updated) {
                    console.log('Rinelfi update at', updated);
                },
                onCardInsert(inserted) {
                    inserted.actions = [
                        { icon: 'fa fa-commenting', badge: '0', action: 'onCardCommentClick' },
                        { icon: 'fa fa-picture-o', badge: '0', action: 'onCardPictureClick' },
                        { icon: 'fa fa-thumb-tack', badge: '0/0', action: 'onCardTaskClick', condition: { badge: '0/0' } },
                    ];
                    kanbanDom.kanban('setData', { column: inserted.header, id: inserted.id, data: inserted });
                    console.log('new insertion', inserted);
                },
                onCardDrop(dropped, updates) {
                    console.log('Rinelfi drop at', dropped, updates, $('#kanban').data('matrix'));
                },
                onHeaderChange(changed) {
                    console.log(changed);
                },
                onCardCommentClick(datum) {
                    console.log('comment', datum);
                },
                onDelete(action, dom) {
                    console.log(dom);
                    var index = kanbanDom.find(`[data-column=${action.header}] .kanban-list-card-detail`).index(dom)
                    kanbanDom.kanban('deleteData', { column: action.header, index: index });
                },
                onRenderDone() {

                }
            });

        });
    </script>
</head>

<body>
    <div id="kanban"></div>
</body>

</html>